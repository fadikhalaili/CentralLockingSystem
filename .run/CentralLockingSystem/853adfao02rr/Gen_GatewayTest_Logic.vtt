<?xml version="1.0" encoding="utf-8"?>
<!--Vector Test Table Editor-->
<ttroot version="21" minRequiredVersion="18" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
  <tt />
  <ttlib>
    <ts_definitions />
    <tc_definitions>
      <tc_definition>
        <name>ttc_GenGatewayTest</name>
        <export>true</export>
        <tcid>5c743fed-e53f-4000-82c4-ee2bf767442a</tcid>
        <parameters>
          <parameter_definition>
            <name>pSrcSig</name>
            <type>signal</type>
          </parameter_definition>
          <parameter_definition>
            <name>pFactor</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pOffset</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pDstSig</name>
            <type>signal</type>
          </parameter_definition>
          <parameter_definition>
            <name>pDelay</name>
            <type>int</type>
          </parameter_definition>
          <parameter_definition>
            <name>pDBCValues</name>
            <type>string</type>
          </parameter_definition>
          <parameter_definition>
            <name>pMin</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pMax</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pSteps</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pRepeat</name>
            <type>int</type>
          </parameter_definition>
        </parameters>
        <variables>
          <variable_definition>
            <name>lOriginalValue</name>
            <type>float</type>
            <source>
              <const>0</const>
            </source>
          </variable_definition>
          <variable_definition>
            <name>lMin</name>
            <type>float</type>
            <source>
              <const>0</const>
            </source>
          </variable_definition>
          <variable_definition>
            <name>lMax</name>
            <type>float</type>
            <source>
              <const>0</const>
            </source>
          </variable_definition>
          <variable_definition>
            <name>val</name>
            <type>float</type>
            <source>
              <const>0</const>
            </source>
          </variable_definition>
        </variables>
        <preparation>
          <title />
          <set>
            <title />
            <in>
              <assignment>
                <sink>
                  <variable>lOriginalValue</variable>
                </sink>
                <source>
                  <dbobject>$SymbolRef|1|pSrcSig</dbobject>
                </source>
              </assignment>
            </in>
          </set>
        </preparation>
        <if>
          <title />
          <compare>
            <value>
              <variable>pDBCValues</variable>
            </value>
            <eq>
              <const>Y</const>
            </eq>
          </compare>
          <caplinline>
            <title />
            <code>lMin=DBLookup(pSrcSig).minimum;
lMax=DBLookup(pSrcSig).maximum;
</code>
          </caplinline>
          <report>
            <text>Dabase Limits</text>
            <object>
              <variable>lMin</variable>
            </object>
            <object>
              <variable>lMax</variable>
            </object>
          </report>
        </if>
        <else>
          <title />
          <set>
            <title />
            <in>
              <assignment>
                <sink>
                  <variable>lMin</variable>
                </sink>
                <source>
                  <variable>pMin</variable>
                </source>
              </assignment>
              <assignment>
                <sink>
                  <variable>lMax</variable>
                </sink>
                <source>
                  <variable>pMax</variable>
                </source>
              </assignment>
            </in>
          </set>
        </else>
        <for>
          <title />
          <loopvar>repetition</loopvar>
          <loopvartype>int64</loopvartype>
          <startvalue>
            <const>0</const>
          </startvalue>
          <stopvalue>
            <expression>
              <const>pRepeat-1</const>
            </expression>
          </stopvalue>
          <increment>
            <const>1</const>
          </increment>
          <set>
            <title />
            <in>
              <assignment>
                <sink>
                  <variable>val</variable>
                </sink>
                <source>
                  <variable>lMin</variable>
                </source>
              </assignment>
            </in>
          </set>
          <while>
            <title />
            <compare>
              <value>
                <expression>
                  <const>val</const>
                </expression>
              </value>
              <le>
                <variable>lMax</variable>
              </le>
            </compare>
            <ttfunction>
              <title />
              <name>tf_GenericGatewayTestOneValue</name>
              <param>
                <type>signal</type>
                <value>
                  <dbobject>$SymbolRef|1|pSrcSig</dbobject>
                </value>
              </param>
              <param>
                <type>signal</type>
                <value>
                  <dbobject>$SymbolRef|1|pDstSig</dbobject>
                </value>
              </param>
              <param>
                <type>float</type>
                <value>
                  <variable>val</variable>
                </value>
              </param>
              <param>
                <type>float</type>
                <value>
                  <expression>
                    <const>val*pFactor+pOffset</const>
                  </expression>
                </value>
              </param>
              <param>
                <type>int</type>
                <value>
                  <variable>pDelay</variable>
                </value>
              </param>
            </ttfunction>
            <set>
              <title />
              <in>
                <assignment>
                  <sink>
                    <variable>val</variable>
                  </sink>
                  <source>
                    <expression>
                      <const>val+pSteps</const>
                    </expression>
                  </source>
                </assignment>
              </in>
            </set>
          </while>
        </for>
        <completion>
          <title />
          <ttfunction>
            <title />
            <name>tf_GenericGatewayTestOneValue</name>
            <param>
              <type>signal</type>
              <value>
                <dbobject>$SymbolRef|1|pSrcSig</dbobject>
              </value>
            </param>
            <param>
              <type>signal</type>
              <value>
                <dbobject>$SymbolRef|1|pDstSig</dbobject>
              </value>
            </param>
            <param>
              <type>float</type>
              <value>
                <variable>lOriginalValue</variable>
              </value>
            </param>
            <param>
              <type>float</type>
              <value>
                <expression>
                  <const>lOriginalValue*pFactor+pOffset</const>
                </expression>
              </value>
            </param>
            <param>
              <type>int</type>
              <value>
                <variable>pDelay</variable>
              </value>
            </param>
          </ttfunction>
        </completion>
      </tc_definition>
    </tc_definitions>
    <function_definitions>
      <function_definition navid="82cfe82f-3289-41ee-9955-ef417d25d19e">
        <name>tf_GenericGatewayTestOneValue</name>
        <parameters>
          <parameter_definition>
            <name>pSigSrc</name>
            <type>signal</type>
          </parameter_definition>
          <parameter_definition>
            <name>pSigDst</name>
            <type>signal</type>
          </parameter_definition>
          <parameter_definition>
            <name>pSrcValue</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pDstValue</name>
            <type>float</type>
          </parameter_definition>
          <parameter_definition>
            <name>pDelay</name>
            <type>int</type>
          </parameter_definition>
        </parameters>
        <statechange>
          <title />
          <in>
            <assignment>
              <sink>
                <dbobject>$SymbolRef|1|pSigSrc</dbobject>
              </sink>
              <source>
                <variable>pSrcValue</variable>
              </source>
            </assignment>
          </in>
          <wait>
            <value>
              <variable>pDelay</variable>
            </value>
            <unit>ms</unit>
          </wait>
          <expected>
            <compare>
              <value>
                <dbobject>$SymbolRef|1|pSigSrc</dbobject>
              </value>
              <range>
                <based>
                  <base>
                    <variable>pSrcValue</variable>
                  </base>
                  <down_tolerance_rel>
                    <const>0.05</const>
                  </down_tolerance_rel>
                  <up_tolerance_rel>
                    <const>0.05</const>
                  </up_tolerance_rel>
                </based>
              </range>
            </compare>
            <compare>
              <value>
                <dbobject>$SymbolRef|1|pSigDst</dbobject>
              </value>
              <range>
                <based>
                  <base>
                    <variable>pDstValue</variable>
                  </base>
                  <down_tolerance>
                    <const>0.05</const>
                  </down_tolerance>
                  <up_tolerance>
                    <const>0.05</const>
                  </up_tolerance>
                </based>
              </range>
            </compare>
          </expected>
        </statechange>
      </function_definition>
    </function_definitions>
  </ttlib>
</ttroot>